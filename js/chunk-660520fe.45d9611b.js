(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-660520fe"],{"952b":function(t,s,e){"use strict";var a=e("f7d8"),r=e.n(a);r.a},c39e:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container fade",class:{show:t.isShow}},[e("ul",{staticClass:"step"},[t._m(0),e("li",{staticClass:"line active"}),t._m(1),e("li",{staticClass:"line",class:{active:t.order.is_paid}}),e("li",{class:{active:t.order.is_paid}},[e("i",[t._v("3")]),t._v("訂單完成 ")])]),!0===t.order.is_paid?e("div",{staticClass:"col-md-6 paid-status"},[e("div",[t._v("訂單已完成付款，"),e("router-link",{attrs:{to:"/product_list"}},[t._v("回購物頁面"),e("i",[t._v("→")])]),e("span",{staticClass:"caret"})],1),e("i",{staticClass:"fas fa-check animate__rubberBand"})]):t._e(),e("div",{staticClass:"col-md-6 mx-auto mb-5 px-0"},[e("div",{staticClass:"order-list flex-column shadow-sm mb-3"},[e("h5",{staticClass:"order-h5"},[t._v("訂單明細")]),e("table",{staticClass:"table"},[t._m(2),e("tbody",t._l(t.order.products,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(s.final_total)))])])})),0),e("tfoot",[e("tr",[t._m(3),e("td",{staticClass:"text-right"},[e("b",[t._v(t._s(t._f("currency")(t.order.total)))])])])])]),e("h5",{staticClass:"order-h5"},[t._v("收件人資訊")]),e("table",{staticClass:"table"},[e("tbody",{staticClass:"border-0-first-tr"},[e("tr",[e("th",{attrs:{width:"120"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])])]),!1===t.order.is_paid?e("div",{staticClass:"action text-right"},[e("button",{staticClass:"btn btn-blue",on:{click:t.payOrder}},[t._v("確認付款去")])]):t._e()])])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{staticClass:"active"},[e("i",[t._v("1")]),t._v("輸入寄送資訊 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{staticClass:"active"},[e("i",[t._v("2")]),t._v("確認繳費 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",{staticClass:"border-0-first-tr"},[e("tr",[e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",[t._v("單價")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("td",{attrs:{colspan:"2"}},[e("b",[t._v("總計")])])}],i=(e("99af"),e("5530")),c=e("2f62"),o={data:function(){return{orderId:"",order:{user:{}}}},methods:{getOrder:function(){document.title="角獵咖啡 - 確認繳費";var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("lalabear","/order/").concat(t.orderId);t.$store.commit("LOADING",!0),t.$store.commit("ISSHOW",!1),t.$http.get(s).then((function(s){t.order=s.data.order,t.$store.commit("LOADING",!1),t.$store.commit("ISSHOW",!0)}))},payOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("lalabear","/pay/").concat(t.orderId);t.$store.commit("LOADING",!0),t.$store.commit("ISSHOW",!1),window.scroll(0,0),t.$http.post(s).then((function(s){s.data.success&&(t.getOrder(),t.$bus.$emit("message:push",s.data.message,"light"),document.title="角獵咖啡 - 訂單完成")}))}},computed:Object(i["a"])({},Object(c["c"])(["isShow"])),created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},d=o,l=(e("952b"),e("2877")),n=Object(l["a"])(d,a,r,!1,null,null,null);s["default"]=n.exports},f7d8:function(t,s,e){}}]);
//# sourceMappingURL=chunk-660520fe.45d9611b.js.map